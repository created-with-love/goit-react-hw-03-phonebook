{"version":3,"sources":["components/Form/Form.module.css","components/Form/Form.jsx","components/Section/Section.jsx","components/Contacts/Contacts.jsx","components/Filter/Filter.jsx","App.js","index.js","components/Contacts/Contacts.module.css","components/Section/Section.module.css"],"names":["module","exports","Form","state","name","number","nameId","uuidv4","handleInputChange","event","currentTarget","value","setState","handleSubmit","e","preventDefault","props","onSubmit","reset","this","className","s","container","form","htmlFor","form__label","type","form__firstInput","onChange","id","placeholder","required","maxLength","minLength","pattern","form__button","disabled","Component","Section","title","children","container__title","Contacts","contacts","onDeleteBtnClick","map","person","search__contact","search__button","onClick","Filter","search__label","App","dataFromServer","filter","formSubmitHandler","data","validateContact","some","alert","deleteContact","prevState","contact","handleSearch","localStorage","getItem","parsedContacts","JSON","parse","prevProps","nextContacts","setItem","stringify","lowerCaseFilter","toLowerCase","includes","filteredContacts","getFiltredContacts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9df340e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Form_container__1aREm\",\"form\":\"Form_form__1fQd8\",\"form__button\":\"Form_form__button__qY5Pv\",\"form__label\":\"Form_form__label__18VgG\",\"form__firstInput\":\"Form_form__firstInput__351Ha\"};","import { Component } from 'react';\nimport s from './Form.module.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nclass Form extends Component {\n  state = {\n    name: '',\n    number: '',\n  };\n\n  nameId = uuidv4();\n\n  handleInputChange = event => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  // для получения данных из формы в App.js во время сабмита\n  // использую метод с поднятием состояния в родитель\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state);\n    this.reset();\n  };\n\n  // form.reset() в реакте не работает, пользуюсь методом\n  reset = () => {\n    this.setState({\n      name: '',\n      number: '',\n    });\n  };\n\n  render() {\n    const { name, number } = this.state;\n\n    return (\n      <div className={s.container}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <label htmlFor={this.nameId}>\n            <p className={s.form__label}>Name</p>\n            <input\n              type=\"text\"\n              name=\"name\"\n              className={s.form__firstInput}\n              value={name}\n              onChange={this.handleInputChange}\n              id={this.nameId}\n              placeholder=\"Enter name\"\n              required\n            ></input>\n          </label>\n          <label>\n            <p className={s.form__label}>Number</p>\n            <input\n              type=\"tel\"\n              name=\"number\"\n              value={number}\n              onChange={this.handleInputChange}\n              maxLength=\"9\"\n              minLength=\"7\"\n              pattern=\"[0-9]{3}-{0,1}[0-9]{2}-{0,1}[0-9]{2}\"\n              required\n              placeholder=\"123-45-67\"\n            ></input>\n          </label>\n          <button\n            className={s.form__button}\n            type=\"submit\"\n            disabled={name === '' || number === ''}\n          >\n            Add contact\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nconst Section = ({ title, children }) => (\n  <section className={s.container}>\n    <h2 className={s.container__title}>{title}</h2>\n    {children}\n  </section>\n);\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Section;\n","import React from 'react';\nimport s from './Contacts.module.css';\n\nconst Contacts = ({ contacts, onDeleteBtnClick }) => (\n  <div>\n    <ul>\n      {contacts.map(person => (\n        <li key={person.id} className={s.search__contact}>\n          {person.name} : {person.number}\n          <button\n            className={s.search__button}\n            type=\"button\"\n            onClick={() => onDeleteBtnClick(person.id)}\n          >\n            Delete\n          </button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nexport default Contacts;\n","import React from 'react';\nimport s from '../Contacts/Contacts.module.css';\n\nconst Filter = ({ value, onChange }) => (\n  <label htmlFor=\"search\">\n    <p className={s.search__label}>Find contacts by name</p>\n    <input\n      type=\"search\"\n      name=\"search\"\n      id=\"search\"\n      onChange={onChange}\n      value={value}\n    />\n  </label>\n);\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport dataFromServer from './data/contacts.json';\nimport Form from './components/Form';\nimport Section from './components/Section';\nimport Contacts from './components/Contacts';\nimport Filter from './components/Filter';\nimport { v4 as uuidv4 } from 'uuid';\n\nclass App extends Component {\n  state = {\n    contacts: dataFromServer,\n    filter: '',\n  };\n\n  componentDidMount() {\n    const contacts = localStorage.getItem('contacts');\n    const parsedContacts = JSON.parse(contacts);\n\n    if (parsedContacts) {\n      this.setState({ contacts: parsedContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextContacts = this.state.contacts;\n    const prevContacts = prevState.contacts;\n\n    if (nextContacts !== prevContacts) {\n      localStorage.setItem('contacts', JSON.stringify(nextContacts));\n    }\n  }\n\n  formSubmitHandler = (data) => {\n    const { contacts } = this.state;\n    const isContactValid = this.validateContact(data, contacts);\n\n    if (isContactValid) {\n      data.id = uuidv4();\n      this.setState(({ contacts }) => ({\n        contacts: [data, ...contacts],\n      }));\n    }\n  };\n\n  validateContact = (data, contacts) => {\n    if (contacts.some(({ name }) => name === data.name)) {\n      alert(`${data.name} is already in contacts.`);\n      return false;\n    } else return true;\n  };\n\n  deleteContact = (id) => {\n    this.setState((prevState) => ({\n      contacts: prevState.contacts.filter((contact) => contact.id !== id),\n    }));\n  };\n\n  handleSearch = (e) => {\n    this.setState({\n      filter: e.currentTarget.value,\n    });\n  };\n\n  getFiltredContacts() {\n    const { contacts, filter } = this.state;\n    const lowerCaseFilter = filter.toLowerCase();\n    return contacts.filter((person) =>\n      person.name.toLowerCase().includes(lowerCaseFilter)\n    );\n  }\n\n  render() {\n    const { filter } = this.state;\n    const filteredContacts = this.getFiltredContacts();\n\n    return (\n      <>\n        <Section title=\"Phonebook\">\n          <Form onSubmit={this.formSubmitHandler} />\n        </Section>\n\n        <Section title=\"Contacts\">\n          <Filter value={filter} onChange={this.handleSearch} />\n          <Contacts\n            contacts={filteredContacts}\n            onDeleteBtnClick={this.deleteContact}\n          />\n        </Section>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__contact\":\"Contacts_search__contact__3cppY\",\"search__label\":\"Contacts_search__label__3XL0a\",\"search__button\":\"Contacts_search__button__3L54C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Section_container__3ji0U\",\"container__title\":\"Section_container__title__cmAqw\"};"],"sourceRoot":""}